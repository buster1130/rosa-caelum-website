<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ROSA CAELUM</title>
  <link rel="icon" href="images/rose.png" type="image/x-icon">
  <link rel="stylesheet" href="styles/general.css">
  <link rel="stylesheet" href="styles/header-footer.css">
  <link rel="stylesheet" href="styles/contact.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Azeret+Mono:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Bebas+Neue&family=Noto+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/085cc61afb.js" crossorigin="anonymous"></script>
</head>
<body>
  <img src="images/good-1-edit.png" alt="background_crowd" class="background-picture">
  <div id="page-cover"></div>
  <div class="fade"></div>
  <div class="header">
    <button class="nav-toggle" id="menu-toggle-button"
    onclick="toggleMenu()">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </button>
    <div class="mobile-nav-container" id="mobile-menu">
      <a href="index.html" class="mobile-logo-container">
        <img src="images/logo-red.png" alt="mobile-logo" class="mobile-logo"/>
      </a>
      <div class="mobile-socials-container">
        <a href="https://www.instagram.com/rosacaelum/" target="_blank" class="mobile-social-icon">
          <i class="fa-brands fa-instagram"></i>
        </a>
        <a href="https://open.spotify.com/artist/1g24vMdo0pCcRhUpHuw9ah?si=1KZO5Lz5Q1erikrDABr23A&dd=1&nd=1&_branch_match_id=1215714914060655291&utm_medium=sharing&_branch_referrer=H4sIAAAAAAAAA8soKSkottLXLy7IL8lMq9TLyczL1s%2Fyz%2FEKNogqdK5MAgDR9MrSIAAAAA%3D%3D" target="_blank" class="mobile-social-icon">
          <i class="fa-brands fa-spotify"></i>
        </a>
        <a href="https://www.tiktok.com/@rosacaelum" target="_blank" class="mobile-social-icon">
          <i class="fa-brands fa-tiktok"></i>
        </a>
        <a href="https://twitter.com/RosaCaelum" target="_blank" class="mobile-social-icon">
          <i class="fa-brands fa-x-twitter"></i>
        </a>
        <a href="https://www.youtube.com/watch?v=NpU6e2ugcfg" target="_blank" class="mobile-social-icon">
          <i class="fa-brands fa-youtube"></i>
        </a>
        <a href="https://www.facebook.com/people/Rosa-Caelum/100076978203931/" target="_blank" class="mobile-social-icon">
          <i class="fa-brands fa-facebook"></i>
        </a>
      </div>
      <a href="about.html" class="mobile-nav-item">ABOUT</a>
      <a href="music.html" class="mobile-nav-item">MUSIC</a>
      <a href="https://f1250d.myshopify.com/?_ab=0&_fd=0&_sc=1" class="mobile-nav-item">MERCH</a>
      <a href="shows.html" class="mobile-nav-item">SHOWS</a>
      <a href="contact.html" class="mobile-nav-item">CONTACT</a>
    </div>
    <div class="nav-container" id="desktop-menu">
      <a href="about.html" class="nav-item">ABOUT</a>
      <a href="music.html" class="nav-item">MUSIC</a>
      <a href="https://f1250d.myshopify.com/?_ab=0&_fd=0&_sc=1" class="nav-item">MERCH</a>
      <a href="shows.html" class="nav-item">SHOWS</a>
      <a href="contact.html" class="nav-item">CONTACT</a>
    </div>
    <div class="logo-section-container">
      <a href="index.html" class="link-container">
        <img src="images/logo-red.png" alt="logo2red" class="logo"/>
        <img src="images/logo-colour.png" alt="1.1 white" class="logo-fade-out"/>
      </a>
    </div>
    <div class="socials-container">
      <a href="https://www.instagram.com/rosacaelum/" target="_blank" class="social-icon">
        <i class="fa-brands fa-instagram"></i>
      </a>
      <a href="https://open.spotify.com/artist/1g24vMdo0pCcRhUpHuw9ah?si=1KZO5Lz5Q1erikrDABr23A&dd=1&nd=1&_branch_match_id=1215714914060655291&utm_medium=sharing&_branch_referrer=H4sIAAAAAAAAA8soKSkottLXLy7IL8lMq9TLyczL1s%2Fyz%2FEKNogqdK5MAgDR9MrSIAAAAA%3D%3D" target="_blank" class="social-icon">
        <i class="fa-brands fa-spotify"></i>
      </a>
      <a href="https://www.tiktok.com/@rosacaelum" target="_blank" class="social-icon">
        <i class="fa-brands fa-tiktok"></i>
      </a>
      <a href="https://twitter.com/RosaCaelum" target="_blank" class="social-icon">
        <i class="fa-brands fa-x-twitter"></i>
      </a>
      <a href="https://www.youtube.com/watch?v=NpU6e2ugcfg" target="_blank" class="social-icon">
        <i class="fa-brands fa-youtube"></i>
      </a>
      <a href="https://www.facebook.com/people/Rosa-Caelum/100076978203931/" target="_blank" class="social-icon">
        <i class="fa-brands fa-facebook"></i>
      </a>
    </div>
  </div>
  <div class="section-1">
    <div class="contact-form-container">
      <form method="POST" id="contact-form" class="contact-form">
        <div class="contact-left-title">GET IN TOUCH</div>
        <div class="mailing-text">FOR ALL ENQUIERIES, OR TO SAY HELLO, REACH OUT TO US BELOW.</div>
        <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
        <input type="hidden" name="access_key" value="0978d35d-9a89-4897-bab7-f3890aee59ac">
        <input type="text" name="name" placeholder="YOUR NAME" id="contact-name" class="contact-inputs" required>
        <input type="email" name="email" placeholder="YOUR EMAIL" id="contact-email" class="contact-inputs" required>
        <textarea name="message" placeholder="YOUR MESSAGE" id="contact-message" class="contact-inputs" required></textarea>
        <button type="submit" id="contact-button" class="contact-button">Submit</button>
        <div id="contact-result"></div>
      </form>
      
      <form method="POST" id="mailing-form" class="mailing-form">
        <div class="mailing-title">JOIN OUR MAILING LIST</div>
        <div class="mailing-text">SIGN UP TO BE THE FIRST TO HEAR ABOUT UPCOMING GIGS, MUSIC AND MORE.</div>
        <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
        <input type="hidden" name="access_key" value="0978d35d-9a89-4897-bab7-f3890aee59ac">
        <input type="text" name="name" placeholder="YOUR NAME" id="mailing-name" class="contact-inputs" required>
        <input type="hidden" name="subject" value="New Mailing List Request">
        <input type="email" name="email" placeholder="YOUR EMAIL" id="mailing-email" class="contact-inputs" required>
        <button type="submit" id="mailing-button" class="mailing-button">Submit</button>
        <div id="mailing-result"></div>
      </form>
    </div>
  </div>
  <div class="footer">
    <div class="rose-container"><img src="images/rose-darkred.png" alt="rose-darkred" class="rose"/></div>
    <div class="email-container"><img src="images/email.png" alt="email" class="email"/></div>
    <div class="copyright-container"><img src="images/copyright.png" alt="&#169 2024, ROSA CAELUM" class="copyright"/></div>
  </div>
  <script>
    function toggleMenu() {
      console.log('menu toggle')
      const mobileButton = document.getElementById('menu-toggle-button');
      const mobileMenu = document.getElementById('mobile-menu');
      mobileButton.classList.toggle('is-active');
      mobileMenu.classList.toggle('is-active');
    }

    window.onload = function() {
     document.getElementById("form").reset();
    };
    const sleep = (delay) => new Promise((resolve) => setTimeout(resolve, delay))
    document.addEventListener('DOMContentLoaded', async function main() {
      await sleep(10);
      document.getElementById('page-cover').style.opacity = '0';
      await sleep(1000);
      document.getElementById('page-cover').style.zIndex = '-100';
      
    }, false);

    function completeContact() {
      document.getElementById('contact-name').style.display = 'none';
      document.getElementById('contact-email').style.display = 'none';
      document.getElementById('contact-message').style.display = 'none';
      document.getElementById('contact-button').style.display = 'none';
    }

    function completeMailing() {
      document.getElementById('mailing-name').style.display = 'none';
      document.getElementById('mailing-email').style.display = 'none';
      document.getElementById('mailing-button').style.display = 'none';
    }

    const contactForm = document.getElementById('contact-form');
    const contactResult = document.getElementById('contact-result');

    const mailingForm = document.getElementById('mailing-form');
    const mailingResult = document.getElementById('mailing-result');

    contactForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(contactForm);
      const object = Object.fromEntries(formData);
      const json = JSON.stringify(object);
      contactResult.innerHTML = "PLEASE WAIT..."

        fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {
                let json = await response.json();
                if (response.status == 200) {
                    // SUCCESS
                    contactResult.innerHTML = json.message;
                    completeContact()
                    contactForm.reset();

                } else {
                    console.log(response);
                    contactResult.innerHTML = json.message;
                }
            })
            .catch(error => {
                console.log(error);
                contactResult.innerHTML = "ERROR. PLEASE TRY AGAIN.";
                contactForm.reset();
                setTimeout(() => {
                    contactResult.style.display = "none";
                }, 3000);
            })
    });


    mailingForm.addEventListener('submit', function(e) {
      e.preventDefault();
      const formData = new FormData(mailingForm);
      const object = Object.fromEntries(formData);
      const json = JSON.stringify(object);
      mailingResult.innerHTML = "PLEASE WAIT..."

        fetch('https://api.web3forms.com/submit', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                    'Accept': 'application/json'
                },
                body: json
            })
            .then(async (response) => {
                let json = await response.json();
                if (response.status == 200) {
                    // SUCCESS
                    mailingResult.innerHTML = json.message;
                    completeMailing()
                    mailingForm.reset();

                } else {
                    console.log(response);
                    mailingResult.innerHTML = json.message;
                }
            })
            .catch(error => {
                console.log(error);
                mailingResult.innerHTML = "ERROR. PLEASE TRY AGAIN.";
                mailingForm.reset();
                setTimeout(() => {
                  mailingResult.style.display = "none";
                }, 3000);
            })
    });
  </script>
</body>